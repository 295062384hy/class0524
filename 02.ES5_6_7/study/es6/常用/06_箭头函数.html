<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>06_箭头函数</title>

</head>
<body>
    <button id="btn1">测试箭头函数this_1</button>
    <button id="btn2">测试箭头函数this_2</button>


<!--
* 作用: 定义匿名函数
* 基本语法:
  * 没有参数: () => console.log('xxxx')
  * 一个参数: i => i+2
  * 大于一个参数: (i,j) => i+j
  * 函数体不用大括号: 默认返回结果
  * 函数体如果有多个语句, 需要用{}包围，若有需要返回的内容，需要手动返回
* 使用场景: 多用来定义回调函数

* 箭头函数的特点：
    1、简洁
    2、箭头函数没有自己的this，箭头函数的this不是调用的时候决定的，而是在定义的时候处在的对象就是它的this
    3、扩展理解： 箭头函数的this看外层的是否有函数，
        如果有，外层函数的this就是内部箭头函数的this，
        如果没有，则this是window。
-->
<script type="text/javascript">
  function fn() {

  }
  //箭头函数
  //定义没有形参的箭头函数，不能省略括号
  const foo1 = () => {

  }

  //定义有一个形参的箭头函数, 可以省略括号
  const foo2 = i => {
    console.log(i);
  }

  //定义2个或2个以上形参的箭头函数, 不可以省略括号
  const foo3 = (i, j, k) => {
    console.log(i, j, k);
  }

  //如果函数体内没有任何代码，不可以省略大括号{}
  const foo4 = () => {}

  //如果函数体内只有一行代码，可以省略大括号{}
  //函数的返回值就是当前这一行代码的返回值
  const foo5 = () => 10;
  // console.log(foo5());  // 10

  //如果函数体内有2行或2行以上代码，不可以省略大括号{}
  const foo6 = () => {
    console.log('hello es6');
    console.log('hello atguigu');
  }
  // console.log(foo6());  //undefined

  //this
  const foo7 = () => console.log(this);

  // foo7();  //window
  // foo7.call(foo6)  //window

  //箭头没有自己的this，它的this和最近的一层函数的this指向一致
  //箭头this没办法自己改变（不能通过new call等方法改变）
  //箭头的this定义时就就决定跟着哪个函数了
  /*function foo10() {
    console.log(`foo10函数的${this}`);
    function foo8() {
      console.log(`foo8函数的${this}`);
      const foo9 = () => console.log(`foo9函数的${this}`);
      foo9();
    }
    foo8();
  }*/
  function foo10() {
    console.log(`foo10函数的${this}`);
    function foo8() {
      console.log(`foo8函数的${this}`);
      const foo9 = () => console.log(`foo9函数的${this}`);
      return foo9;
    }
    return foo8;
  }
  // foo8();
  foo10.call(foo6)()();


</script>

</body>
</html>